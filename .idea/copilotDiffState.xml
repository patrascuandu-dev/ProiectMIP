<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="CopilotDiffPersistence">
    <option name="pendingDiffs">
      <map>
        <entry key="$PROJECT_DIR$/src/main/java/com/restaurant/config/Config.java">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/src/main/java/com/restaurant/config/Config.java" />
              <option name="updatedContent" value="package com.restaurant.config;&#10;&#10;public class Config {&#10;    private String restaurantName = &quot;La Andrei&quot;;&#10;    private double tva = 0.09;&#10;    private String menuExportFile = &quot;meniu_export.json&quot;;&#10;&#10;    public String getRestaurantName() { return restaurantName; }&#10;    public double getTva() { return tva; }&#10;    public String getMenuExportFile() { return menuExportFile; }&#10;&#10;    // setters for Gson&#10;    public void setRestaurantName(String restaurantName) { this.restaurantName = restaurantName; }&#10;    public void setTva(double tva) { this.tva = tva; }&#10;    public void setMenuExportFile(String menuExportFile) { this.menuExportFile = menuExportFile; }&#10;}&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/src/main/java/com/restaurant/config/ConfigLoader.java">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/src/main/java/com/restaurant/config/ConfigLoader.java" />
              <option name="originalContent" value="package com.restaurant.config;&#10;&#10;import com.google.gson.Gson;&#10;import com.google.gson.JsonSyntaxException;&#10;&#10;import java.io.IOException;&#10;import java.nio.file.Files;&#10;import java.nio.file.NoSuchFileException;&#10;import java.nio.file.Path;&#10;&#10;public class ConfigLoader {&#10;    /**&#10;     * Încarcă configurarea dintr-un fișier JSON.&#10;     * Aruncă NoSuchFileException dacă fișierul lipsește.&#10;     * Aruncă JsonSyntaxException dacă JSON-ul este invalid.&#10;     */&#10;    public static Config load(String path) throws NoSuchFileException, JsonSyntaxException, IOException {&#10;        Path p = Path.of(path);&#10;        String content = Files.readString(p);&#10;        Gson gson = new Gson();&#10;        Config cfg = gson.fromJson(content, Config.class);&#10;        if (cfg == null) cfg = new Config();&#10;        return cfg;&#10;    }&#10;}&#10;&#10;" />
              <option name="updatedContent" value="package com.restaurant.config;&#10;&#10;import java.io.IOException;&#10;import java.nio.file.Files;&#10;import java.nio.file.NoSuchFileException;&#10;import java.nio.file.Path;&#10;import java.util.regex.Matcher;&#10;import java.util.regex.Pattern;&#10;&#10;/**&#10; * Încărcător simplificat pentru fișiere config JSON mici (fără dependențe externe).&#10; * Suportă câmpurile: restaurantName (string), tva (number), menuExportFile (string).&#10; */&#10;public class ConfigLoader {&#10;    private static final Pattern NAME_PATTERN = Pattern.compile(&quot;\&quot;restaurantName\&quot;\\s*:\\s*\&quot;([^\&quot;]*)\&quot;&quot;);&#10;    private static final Pattern TVA_PATTERN = Pattern.compile(&quot;\&quot;tva\&quot;\\s*:\\s*([0-9]+(?:\\.[0-9]+)?)&quot;);&#10;    private static final Pattern EXPORT_PATTERN = Pattern.compile(&quot;\&quot;menuExportFile\&quot;\\s*:\\s*\&quot;([^\&quot;]*)\&quot;&quot;);&#10;&#10;    /**&#10;     * Încarcă configurarea dintr-un fișier JSON.&#10;     * Aruncă NoSuchFileException dacă fișierul lipsește.&#10;     * Aruncă InvalidConfigException pentru erori de format sau valori invalide.&#10;     */&#10;    public static Config load(String path) throws NoSuchFileException, InvalidConfigException, IOException {&#10;        Path p = Path.of(path);&#10;        String content = Files.readString(p);&#10;        if (content == null) return new Config();&#10;        String trimmed = content.trim();&#10;        if (trimmed.isEmpty()) return new Config();&#10;&#10;        // Validare de bază: trebuie să înceapă cu { și să se termine cu }&#10;        if (!trimmed.startsWith(&quot;{&quot;) || !trimmed.endsWith(&quot;}&quot;)) {&#10;            throw new InvalidConfigException(&quot;Fișierul de configurare nu are format JSON valid.&quot;);&#10;        }&#10;&#10;        Config cfg = new Config();&#10;&#10;        try {&#10;            Matcher mName = NAME_PATTERN.matcher(content);&#10;            if (mName.find()) {&#10;                cfg.setRestaurantName(mName.group(1));&#10;            }&#10;&#10;            Matcher mTva = TVA_PATTERN.matcher(content);&#10;            if (mTva.find()) {&#10;                try {&#10;                    double t = Double.parseDouble(mTva.group(1));&#10;                    cfg.setTva(t);&#10;                } catch (NumberFormatException ex) {&#10;                    throw new InvalidConfigException(&quot;Valoare TVA invalidă în config.&quot;, ex);&#10;                }&#10;            }&#10;&#10;            Matcher mExport = EXPORT_PATTERN.matcher(content);&#10;            if (mExport.find()) {&#10;                cfg.setMenuExportFile(mExport.group(1));&#10;            }&#10;        } catch (IllegalStateException e) {&#10;            throw new InvalidConfigException(&quot;Eroare la parsarea configurării.&quot;, e);&#10;        }&#10;&#10;        return cfg;&#10;    }&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/src/main/java/com/restaurant/model/Bautura.java">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/src/main/java/com/restaurant/model/Bautura.java" />
              <option name="originalContent" value="package com.restaurant.model;&#10;&#10;public class Bautura implements Produs {&#10;    private String nume;&#10;    private double pret;&#10;    private int volum;&#10;&#10;    public Bautura(String nume, double pret, int volum) {&#10;        this.nume = nume;&#10;        this.pret = pret;&#10;        this.volum = volum;&#10;    }&#10;&#10;    public String getNume() { return nume; }&#10;    public double getPret() { return pret; }&#10;    public int getVolum() { return volum; }&#10;&#10;    @Override&#10;    public String descriere() {&#10;        return nume + &quot; – &quot; + pret + &quot; RON – Volum: &quot; + volum + &quot;ml&quot;;&#10;    }&#10;}&#10;" />
              <option name="updatedContent" value="package com.restaurant.model;&#10;&#10;public final class Bautura implements Produs {&#10;    private String nume;&#10;    private double pret;&#10;    private int volum;&#10;    private boolean alcoolica;&#10;&#10;    public Bautura(String nume, double pret, int volum) {&#10;        this(nume, pret, volum, false);&#10;    }&#10;&#10;    public Bautura(String nume, double pret, int volum, boolean alcoolica) {&#10;        this.nume = nume;&#10;        this.pret = pret;&#10;        this.volum = volum;&#10;        this.alcoolica = alcoolica;&#10;    }&#10;&#10;    public String getNume() { return nume; }&#10;    public double getPret() { return pret; }&#10;    public int getVolum() { return volum; }&#10;    public boolean isAlcoolica() { return alcoolica; }&#10;&#10;    @Override&#10;    public String descriere() {&#10;        return nume + &quot; – &quot; + pret + &quot; RON – Volum: &quot; + volum + &quot;ml&quot; + (alcoolica ? &quot; – Alcoolică&quot; : &quot;&quot;);&#10;    }&#10;&#10;    @Override&#10;    public String toString() {&#10;        return descriere();&#10;    }&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/src/main/java/com/restaurant/model/Comanda.java">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/src/main/java/com/restaurant/model/Comanda.java" />
              <option name="originalContent" value="package com.restaurant.model;&#10;&#10;import com.restaurant.service.DiscountStrategy;&#10;&#10;import java.util.Collections;&#10;import java.util.HashMap;&#10;import java.util.Map;&#10;&#10;public class Comanda {&#10;    public static final double TVA = 0.09;&#10;&#10;    private final Map&lt;Produs, Integer&gt; produse = new HashMap&lt;&gt;();&#10;&#10;    public void adaugaProdus(Produs produs, int cantitate) {&#10;        if (produs == null) throw new IllegalArgumentException(&quot;Produsul nu poate fi null&quot;);&#10;        if (cantitate &lt;= 0) throw new IllegalArgumentException(&quot;Cantitatea trebuie sa fie pozitiva&quot;);&#10;        produse.merge(produs, cantitate, Integer::sum);&#10;    }&#10;&#10;    public Map&lt;Produs, Integer&gt; getProduse() {&#10;        return Collections.unmodifiableMap(produse);&#10;    }&#10;&#10;    public double calculeazaSubtotal() {&#10;        double s = 0.0;&#10;        for (Map.Entry&lt;Produs, Integer&gt; e : produse.entrySet()) {&#10;            s += e.getKey().getPret() * e.getValue();&#10;        }&#10;        return s;&#10;    }&#10;&#10;    public double calculeazaTotal(DiscountStrategy discountStrategy) {&#10;        double subtotal = calculeazaSubtotal();&#10;        double discount = 0.0;&#10;        if (discountStrategy != null) {&#10;            discount = discountStrategy.apply(this, subtotal);&#10;            if (discount &lt; 0) discount = 0;&#10;            if (discount &gt; subtotal) discount = subtotal; // avoid negative net&#10;        }&#10;        double net = subtotal - discount;&#10;        return net * (1 + TVA);&#10;    }&#10;&#10;    @Override&#10;    public String toString() {&#10;        StringBuilder sb = new StringBuilder();&#10;        for (Map.Entry&lt;Produs, Integer&gt; e : produse.entrySet()) {&#10;            sb.append(e.getValue()).append(&quot; x &quot;).append(e.getKey().getNume())&#10;              .append(&quot; (&quot;).append(e.getKey().getPret()).append(&quot; RON)&quot;)&#10;              .append(System.lineSeparator());&#10;        }&#10;        return sb.toString();&#10;    }&#10;}&#10;&#10;" />
              <option name="updatedContent" value="package com.restaurant.model;&#10;&#10;import com.restaurant.service.DiscountStrategy;&#10;&#10;import java.util.Collections;&#10;import java.util.HashMap;&#10;import java.util.Map;&#10;&#10;public class Comanda {&#10;    // TVA can be configured at runtime from external config&#10;    public static double TVA = 0.09;&#10;&#10;    private final Map&lt;Produs, Integer&gt; produse = new HashMap&lt;&gt;();&#10;&#10;    public static void setTVA(double tva) {&#10;        if (tva &lt; 0 || tva &gt; 1) throw new IllegalArgumentException(&quot;TVA invalid&quot;);&#10;        TVA = tva;&#10;    }&#10;&#10;    public void adaugaProdus(Produs produs, int cantitate) {&#10;        if (produs == null) throw new IllegalArgumentException(&quot;Produsul nu poate fi null&quot;);&#10;        if (cantitate &lt;= 0) throw new IllegalArgumentException(&quot;Cantitatea trebuie sa fie pozitiva&quot;);&#10;        produse.merge(produs, cantitate, Integer::sum);&#10;    }&#10;&#10;    public Map&lt;Produs, Integer&gt; getProduse() {&#10;        return Collections.unmodifiableMap(produse);&#10;    }&#10;&#10;    public double calculeazaSubtotal() {&#10;        double s = 0.0;&#10;        for (Map.Entry&lt;Produs, Integer&gt; e : produse.entrySet()) {&#10;            s += e.getKey().getPret() * e.getValue();&#10;        }&#10;        return s;&#10;    }&#10;&#10;    public double calculeazaTotal(DiscountStrategy discountStrategy) {&#10;        double subtotal = calculeazaSubtotal();&#10;        double discount = 0.0;&#10;        if (discountStrategy != null) {&#10;            discount = discountStrategy.apply(this, subtotal);&#10;            if (discount &lt; 0) discount = 0;&#10;            if (discount &gt; subtotal) discount = subtotal; // avoid negative net&#10;        }&#10;        double net = subtotal - discount;&#10;        return net * (1 + TVA);&#10;    }&#10;&#10;    @Override&#10;    public String toString() {&#10;        StringBuilder sb = new StringBuilder();&#10;        for (Map.Entry&lt;Produs, Integer&gt; e : produse.entrySet()) {&#10;            sb.append(e.getValue()).append(&quot; x &quot;).append(e.getKey().getNume())&#10;              .append(&quot; (&quot;).append(e.getKey().getPret()).append(&quot; RON)&quot;)&#10;              .append(System.lineSeparator());&#10;        }&#10;        return sb.toString();&#10;    }&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/src/main/java/com/restaurant/model/Mancare.java">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/src/main/java/com/restaurant/model/Mancare.java" />
              <option name="originalContent" value="package com.restaurant.model;&#10;&#10;public class Mancare implements Produs {&#10;    private String nume;&#10;    private double pret;&#10;    private int gramaj;&#10;&#10;    public Mancare(String nume, double pret, int gramaj) {&#10;        this.nume = nume;&#10;        this.pret = pret;&#10;        this.gramaj = gramaj;&#10;    }&#10;&#10;    public String getNume() { return nume; }&#10;    public double getPret() { return pret; }&#10;    public int getGramaj() { return gramaj; }&#10;&#10;    @Override&#10;    public String descriere() {&#10;        return nume + &quot; – &quot; + pret + &quot; RON – Gramaj: &quot; + gramaj + &quot;g&quot;;&#10;    }&#10;}&#10;" />
              <option name="updatedContent" value="package com.restaurant.model;&#10;&#10;public class Mancare implements Produs {&#10;    private String nume;&#10;    private double pret;&#10;    private int gramaj;&#10;    private boolean vegetarian;&#10;&#10;    public Mancare(String nume, double pret, int gramaj) {&#10;        this(nume, pret, gramaj, false);&#10;    }&#10;&#10;    public Mancare(String nume, double pret, int gramaj, boolean vegetarian) {&#10;        this.nume = nume;&#10;        this.pret = pret;&#10;        this.gramaj = gramaj;&#10;        this.vegetarian = vegetarian;&#10;    }&#10;&#10;    public String getNume() { return nume; }&#10;    public double getPret() { return pret; }&#10;    public int getGramaj() { return gramaj; }&#10;    public boolean isVegetarian() { return vegetarian; }&#10;&#10;    @Override&#10;    public String descriere() {&#10;        return nume + &quot; – &quot; + pret + &quot; RON – Gramaj: &quot; + gramaj + &quot;g&quot; + (vegetarian ? &quot; – Vegetarian&quot; : &quot;&quot;);&#10;    }&#10;&#10;    @Override&#10;    public String toString() {&#10;        return descriere();&#10;    }&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/src/main/java/com/restaurant/model/Meniu.java">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/src/main/java/com/restaurant/model/Meniu.java" />
              <option name="originalContent" value="package com.restaurant.model;&#10;&#10;import java.util.*;&#10;import java.util.stream.Collectors;&#10;&#10;public class Meniu {&#10;    private final Map&lt;Categorie, List&lt;Produs&gt;&gt; categorii = new EnumMap&lt;&gt;(Categorie.class);&#10;&#10;    public Meniu() {&#10;        for (Categorie c : Categorie.values()) {&#10;            categorii.put(c, new ArrayList&lt;&gt;());&#10;        }&#10;    }&#10;&#10;    public void adaugaProdus(Categorie categorie, Produs produs) {&#10;        if (categorie == null || produs == null) throw new IllegalArgumentException(&quot;Categorie sau produs null&quot;);&#10;        categorii.get(categorie).add(produs);&#10;    }&#10;&#10;    public List&lt;Produs&gt; getProduseDinCategorie(Categorie categorie) {&#10;        List&lt;Produs&gt; list = categorii.get(categorie);&#10;        if (list == null) return Collections.emptyList();&#10;        return Collections.unmodifiableList(list);&#10;    }&#10;&#10;    public Optional&lt;Produs&gt; cautaDupaNume(String nume) {&#10;        if (nume == null || nume.isBlank()) return Optional.empty();&#10;        String t = nume.trim().toLowerCase();&#10;        return categorii.values().stream()&#10;                .flatMap(List::stream)&#10;                .filter(p -&gt; p.getNume().toLowerCase().equals(t))&#10;                .findFirst();&#10;    }&#10;&#10;    // Interogări&#10;    public List&lt;Mancare&gt; produseVegetarieneSortate() {&#10;        return categorii.values().stream()&#10;                .flatMap(List::stream)&#10;                .filter(p -&gt; p instanceof Mancare)&#10;                .map(p -&gt; (Mancare) p)&#10;                .filter(Mancare::isVegetarian)&#10;                .sorted(Comparator.comparing(Mancare::getNume))&#10;                .collect(Collectors.toList());&#10;    }&#10;&#10;    public OptionalDouble pretMediuPentruCategorie(Categorie categorie) {&#10;        List&lt;Produs&gt; list = categorii.getOrDefault(categorie, Collections.emptyList());&#10;        return list.stream().mapToDouble(Produs::getPret).average();&#10;    }&#10;&#10;    public boolean existaProdusPestePret(double prag) {&#10;        return categorii.values().stream()&#10;                .flatMap(List::stream)&#10;                .anyMatch(p -&gt; p.getPret() &gt; prag);&#10;    }&#10;}&#10;&#10;&#10;" />
              <option name="updatedContent" value="package com.restaurant.model;&#10;&#10;import java.io.FileWriter;&#10;import java.io.IOException;&#10;import java.util.*;&#10;import java.util.stream.Collectors;&#10;&#10;public class Meniu {&#10;    private final Map&lt;Categorie, List&lt;Produs&gt;&gt; categorii = new EnumMap&lt;&gt;(Categorie.class);&#10;&#10;    public Meniu() {&#10;        for (Categorie c : Categorie.values()) {&#10;            categorii.put(c, new ArrayList&lt;&gt;());&#10;        }&#10;    }&#10;&#10;    public void adaugaProdus(Categorie categorie, Produs produs) {&#10;        if (categorie == null || produs == null) throw new IllegalArgumentException(&quot;Categorie sau produs null&quot;);&#10;        categorii.get(categorie).add(produs);&#10;    }&#10;&#10;    public List&lt;Produs&gt; getProduseDinCategorie(Categorie categorie) {&#10;        List&lt;Produs&gt; list = categorii.get(categorie);&#10;        if (list == null) return Collections.emptyList();&#10;        return Collections.unmodifiableList(list);&#10;    }&#10;&#10;    public Optional&lt;Produs&gt; cautaDupaNume(String nume) {&#10;        if (nume == null || nume.isBlank()) return Optional.empty();&#10;        String t = nume.trim().toLowerCase();&#10;        return categorii.values().stream()&#10;                .flatMap(List::stream)&#10;                .filter(p -&gt; p.getNume().toLowerCase().equals(t))&#10;                .findFirst();&#10;    }&#10;&#10;    // Interogări&#10;    public List&lt;Mancare&gt; produseVegetarieneSortate() {&#10;        return categorii.values().stream()&#10;                .flatMap(List::stream)&#10;                .filter(p -&gt; p instanceof Mancare)&#10;                .map(p -&gt; (Mancare) p)&#10;                .filter(Mancare::isVegetarian)&#10;                .sorted(Comparator.comparing(Mancare::getNume))&#10;                .collect(Collectors.toList());&#10;    }&#10;&#10;    public OptionalDouble pretMediuPentruCategorie(Categorie categorie) {&#10;        List&lt;Produs&gt; list = categorii.getOrDefault(categorie, Collections.emptyList());&#10;        return list.stream().mapToDouble(Produs::getPret).average();&#10;    }&#10;&#10;    public boolean existaProdusPestePret(double prag) {&#10;        return categorii.values().stream()&#10;                .flatMap(List::stream)&#10;                .anyMatch(p -&gt; p.getPret() &gt; prag);&#10;    }&#10;&#10;    // Simple JSON escaping for strings&#10;    private static String esc(String s) {&#10;        if (s == null) return &quot;&quot;;&#10;        StringBuilder sb = new StringBuilder();&#10;        for (char c : s.toCharArray()) {&#10;            switch (c) {&#10;                case '\\' -&gt; sb.append(&quot;\\\\&quot;);&#10;                case '&quot;' -&gt; sb.append(&quot;\\\&quot;&quot;);&#10;                case '\b' -&gt; sb.append(&quot;\\b&quot;);&#10;                case '\f' -&gt; sb.append(&quot;\\f&quot;);&#10;                case '\n' -&gt; sb.append(&quot;\\n&quot;);&#10;                case '\r' -&gt; sb.append(&quot;\\r&quot;);&#10;                case '\t' -&gt; sb.append(&quot;\\t&quot;);&#10;                default -&gt; {&#10;                    if (c &lt; 0x20) sb.append(String.format(&quot;\\u%04x&quot;, (int)c));&#10;                    else sb.append(c);&#10;                }&#10;            }&#10;        }&#10;        return sb.toString();&#10;    }&#10;&#10;    /**&#10;     * Exportă meniul curent într-un fișier JSON (formatat) la calea specificată.&#10;     * Creează o reprezentare simplificată pentru a păstra tipurile și a evita problemele de serializare polymorphic.&#10;     */&#10;    public void exportToJson(String filePath) throws IOException {&#10;        StringBuilder sb = new StringBuilder();&#10;        sb.append('{').append('\n');&#10;        int catCount = 0;&#10;        for (Map.Entry&lt;Categorie, List&lt;Produs&gt;&gt; e : categorii.entrySet()) {&#10;            sb.append(&quot;  \&quot;&quot;).append(e.getKey().name()).append(&quot;\&quot;: [\n&quot;);&#10;            List&lt;Produs&gt; list = e.getValue();&#10;            for (int i = 0; i &lt; list.size(); i++) {&#10;                Produs p = list.get(i);&#10;                sb.append(&quot;    {&quot;);&#10;                // type&#10;                sb.append(&quot;\&quot;type\&quot;: \&quot;&quot;).append(esc(p.getClass().getSimpleName())).append(&quot;\&quot;&quot;);&#10;                // nume&#10;                sb.append(&quot;, \&quot;nume\&quot;: \&quot;&quot;).append(esc(p.getNume())).append(&quot;\&quot;&quot;);&#10;                // pret&#10;                sb.append(&quot;, \&quot;pret\&quot;: &quot;).append(p.getPret());&#10;                if (p instanceof Mancare m) {&#10;                    sb.append(&quot;, \&quot;gramaj\&quot;: &quot;).append(m.getGramaj());&#10;                    sb.append(&quot;, \&quot;vegetarian\&quot;: &quot;).append(m.isVegetarian());&#10;                }&#10;                if (p instanceof Bautura b) {&#10;                    sb.append(&quot;, \&quot;volum\&quot;: &quot;).append(b.getVolum());&#10;                    sb.append(&quot;, \&quot;alcoolica\&quot;: &quot;).append(b.isAlcoolica());&#10;                }&#10;                if (p instanceof Pizza piz) {&#10;                    sb.append(&quot;, \&quot;blat\&quot;: \&quot;&quot;).append(esc(piz.getBlat())).append(&quot;\&quot;&quot;);&#10;                    sb.append(&quot;, \&quot;sos\&quot;: \&quot;&quot;).append(esc(piz.getSos())).append(&quot;\&quot;&quot;);&#10;                    sb.append(&quot;, \&quot;toppinguri\&quot;: [&quot;);&#10;                    List&lt;String&gt; tops = piz.getToppinguri();&#10;                    for (int j = 0; j &lt; tops.size(); j++) {&#10;                        sb.append('\&quot;').append(esc(tops.get(j))).append('\&quot;');&#10;                        if (j &lt; tops.size() - 1) sb.append(&quot;, &quot;);&#10;                    }&#10;                    sb.append(']');&#10;                }&#10;                sb.append('}');&#10;                if (i &lt; list.size() - 1) sb.append(',');&#10;                sb.append('\n');&#10;            }&#10;            sb.append(&quot;  ]&quot;);&#10;            catCount++;&#10;            if (catCount &lt; categorii.size()) sb.append(',');&#10;            sb.append('\n');&#10;        }&#10;        sb.append('}').append('\n');&#10;&#10;        try (FileWriter fw = new FileWriter(filePath)) {&#10;            fw.write(sb.toString());&#10;        }&#10;    }&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/src/main/java/com/restaurant/model/Pizza.java">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/src/main/java/com/restaurant/model/Pizza.java" />
              <option name="updatedContent" value="package com.restaurant.model;&#10;&#10;import java.util.ArrayList;&#10;import java.util.Collections;&#10;import java.util.List;&#10;&#10;/**&#10; * Pizza este un tip special de Mancare, construit cu Builder.&#10; * Builder-ul impune setarea blatului si a sosului.&#10; */&#10;public final class Pizza extends Mancare {&#10;    private final String blat;&#10;    private final String sos;&#10;    private final List&lt;String&gt; toppinguri;&#10;&#10;    private Pizza(String nume, double pret, int gramaj, String blat, String sos, List&lt;String&gt; toppinguri) {&#10;        super(nume, pret, gramaj);&#10;        this.blat = blat;&#10;        this.sos = sos;&#10;        this.toppinguri = new ArrayList&lt;&gt;(toppinguri);&#10;    }&#10;&#10;    public String getBlat() { return blat; }&#10;    public String getSos() { return sos; }&#10;    public List&lt;String&gt; getToppinguri() { return Collections.unmodifiableList(toppinguri); }&#10;&#10;    @Override&#10;    public String descriere() {&#10;        return super.getNume() + &quot; – &quot; + super.getPret() + &quot; RON – Blat: &quot; + blat + &quot; – Sos: &quot; + sos + &quot; – Toppinguri: &quot; + toppinguri;&#10;    }&#10;&#10;    public static class Builder {&#10;        private final String nume;&#10;        private final double pret;&#10;        private final int gramaj;&#10;        private final String blat; // obligatoriu&#10;        private final String sos;  // obligatoriu&#10;        private final List&lt;String&gt; toppinguri = new ArrayList&lt;&gt;();&#10;&#10;        public Builder(String nume, double pret, int gramaj, String blat, String sos) {&#10;            if (nume == null || nume.isBlank()) throw new IllegalArgumentException(&quot;Nume pizza invalid&quot;);&#10;            if (blat == null || blat.isBlank()) throw new IllegalArgumentException(&quot;Blat invalid&quot;);&#10;            if (sos == null || sos.isBlank()) throw new IllegalArgumentException(&quot;Sos invalid&quot;);&#10;            this.nume = nume;&#10;            this.pret = pret;&#10;            this.gramaj = gramaj;&#10;            this.blat = blat;&#10;            this.sos = sos;&#10;        }&#10;&#10;        public Builder adaugaTopping(String topping) {&#10;            if (topping != null &amp;&amp; !topping.isBlank()) toppinguri.add(topping);&#10;            return this;&#10;        }&#10;&#10;        public Pizza build() {&#10;            return new Pizza(nume, pret, gramaj, blat, sos, toppinguri);&#10;        }&#10;    }&#10;}&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/src/main/java/com/restaurant/model/Produs.java">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/src/main/java/com/restaurant/model/Produs.java" />
              <option name="originalContent" value="package com.restaurant.model;&#10;&#10;public sealed interface Produs permits Mancare, Bautura {&#10;    String getNume();&#10;    double getPret();&#10;    String descriere();&#10;}&#10;" />
              <option name="updatedContent" value="package com.restaurant.model;&#10;&#10;public interface Produs {&#10;    String getNume();&#10;    double getPret();&#10;    String descriere();&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/src/main/java/com/restaurant/service/DiscountStrategy.java">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/src/main/java/com/restaurant/service/DiscountStrategy.java" />
              <option name="originalContent" value="3package com.restaurant.service;&#10;&#10;import com.restaurant.model.Comanda;&#10;&#10;@FunctionalInterface&#10;public interface DiscountStrategy {&#10;    /**&#10;     * Calculeaza valoarea discount-ului aplicabil unei comenzi, pe baza subtotalului.&#10;     * Returneaza valoarea in RON (nu procent).&#10;     */&#10;    double apply(Comanda comanda, double subtotal);&#10;}&#10;&#10;" />
              <option name="updatedContent" value="package com.restaurant.service;&#10;&#10;import com.restaurant.model.Comanda;&#10;&#10;@FunctionalInterface&#10;public interface DiscountStrategy {&#10;    /**&#10;     * Calculeaza valoarea discount-ului aplicabil unei comenzi, pe baza subtotalului.&#10;     * Returneaza valoarea in RON (nu procent).&#10;     */&#10;    double apply(Comanda comanda, double subtotal);&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/src/main/java/com/restaurant/service/MeniuService.java">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/src/main/java/com/restaurant/service/MeniuService.java" />
              <option name="originalContent" value="package com.restaurant.service;&#10;&#10;import com.restaurant.model.*;&#10;&#10;import java.util.ArrayList;&#10;import java.util.List;&#10;&#10;public class MeniuService {&#10;    public List&lt;Produs&gt; initializareMeniu() {&#10;        List&lt;Produs&gt; meniu = new ArrayList&lt;&gt;();&#10;        meniu.add(new Mancare(&quot;Pizza Margherita&quot;, 45.00, 450));&#10;        meniu.add(new Mancare(&quot;Ciorbă de văcuță&quot;, 35.00, 400));&#10;        meniu.add(new Bautura(&quot;Limonadă&quot;, 15.00, 400));&#10;        meniu.add(new Bautura(&quot;Limonadă&quot;, 20.00, 500));&#10;        return meniu;&#10;    }&#10;&#10;    public void afiseazaMeniu(List&lt;Produs&gt; produse) {&#10;        System.out.println(&quot;Meniu Restaurantului \&quot;La Andrei\&quot;&quot;);&#10;        for (Produs p : produse) {&#10;            System.out.println(&quot;&gt; &quot; + p.descriere());&#10;        }&#10;    }&#10;}&#10;" />
              <option name="updatedContent" value="package com.restaurant.service;&#10;&#10;import com.restaurant.model.*;&#10;&#10;import java.util.List;&#10;&#10;public class MeniuService {&#10;    public Meniu initializareMeniu() {&#10;        Meniu meniu = new Meniu();&#10;&#10;        // Aperitive&#10;        meniu.adaugaProdus(Categorie.APERITIVE, new Mancare(&quot;Bruschetta&quot;, 18.0, 150, true));&#10;        meniu.adaugaProdus(Categorie.APERITIVE, new Mancare(&quot;Salată Caesar&quot;, 25.0, 200));&#10;&#10;        // Fel principal&#10;        meniu.adaugaProdus(Categorie.FEL_PRINCIPAL, new Pizza.Builder(&quot;Pizza Margherita&quot;, 45.00, 450, &quot;Subțire&quot;, &quot;Roșii&quot;)&#10;                .adaugaTopping(&quot;Mozzarella&quot;)&#10;                .build());&#10;        meniu.adaugaProdus(Categorie.FEL_PRINCIPAL, new Mancare(&quot;Ciorbă de văcuță&quot;, 35.00, 400));&#10;        meniu.adaugaProdus(Categorie.FEL_PRINCIPAL, new Mancare(&quot;Paste Carbonara&quot;, 40.00, 350));&#10;&#10;        // Desert&#10;        meniu.adaugaProdus(Categorie.DESERT, new Mancare(&quot;Tiramisu&quot;, 22.0, 150));&#10;        meniu.adaugaProdus(Categorie.DESERT, new Mancare(&quot;Panna Cotta&quot;, 20.0, 120));&#10;&#10;        // Bauturi racoritoare&#10;        meniu.adaugaProdus(Categorie.BAUTURI_RACORITOARE, new Bautura(&quot;Limonadă&quot;, 15.00, 400));&#10;        meniu.adaugaProdus(Categorie.BAUTURI_RACORITOARE, new Bautura(&quot;Apă plată&quot;, 6.00, 500));&#10;&#10;        // Bauturi alcoolice&#10;        meniu.adaugaProdus(Categorie.BAUTURI_ALCOOLICE, new Bautura(&quot;Vin Roșu&quot;, 25.0, 200, true));&#10;        meniu.adaugaProdus(Categorie.BAUTURI_ALCOOLICE, new Bautura(&quot;Bere Artizanală&quot;, 18.0, 500, true));&#10;&#10;        // Un fel scump pentru test&#10;        meniu.adaugaProdus(Categorie.FEL_PRINCIPAL, new Mancare(&quot;Steak Wagyu&quot;, 250.0, 350));&#10;&#10;        return meniu;&#10;    }&#10;&#10;    public void afiseazaMeniu(Meniu meniu, String restaurantName) {&#10;        String name = (restaurantName == null || restaurantName.isBlank()) ? &quot;Restaurant&quot; : restaurantName;&#10;        System.out.println(&quot;Meniu Restaurantului \&quot;&quot; + name + &quot;\&quot;&quot;);&#10;        for (Categorie c : Categorie.values()) {&#10;            System.out.println(&quot;== &quot; + c + &quot; ==&quot;);&#10;            List&lt;Produs&gt; list = meniu.getProduseDinCategorie(c);&#10;            if (list.isEmpty()) System.out.println(&quot;  (fără produse)&quot;);&#10;            for (Produs p : list) {&#10;                System.out.println(&quot;  &gt; &quot; + p.descriere());&#10;            }&#10;        }&#10;    }&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
      </map>
    </option>
  </component>
</project>